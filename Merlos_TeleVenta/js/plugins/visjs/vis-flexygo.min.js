function getItemVerticalScroll(timeline,item){var leftHeight=timeline.props.leftContainer.height,contentHeight=timeline.props.left.height,group=item.parent,offset=group.top,shouldScroll=!0,orientation=timeline.timeAxis.options.orientation.axis,itemTop=function(){return"bottom"==orientation?group.height-item.top-item.height:item.top},currentScrollHeight=-1*timeline._getScrollTop(),targetOffset=offset+itemTop(),height=item.height;return targetOffset<currentScrollHeight?offset+leftHeight<=offset+itemTop()+height&&(offset+=itemTop()-timeline.itemSet.options.margin.item.vertical):targetOffset+height>currentScrollHeight+leftHeight?offset+=itemTop()+height-leftHeight+timeline.itemSet.options.margin.item.vertical:shouldScroll=!1,{shouldScroll,scrollOffset:offset=Math.min(offset,contentHeight-leftHeight),itemTop:targetOffset}}vis.timeline.components.ItemSet.prototype._onUpdateItem=function(item){if(this.options.selectable&&(this.options.editable.updateGroup||this.options.editable.updateTime)){var me=this;if(item){var itemData=me.itemsData.get(item.id);this.options.onUpdate(itemData,function(itemData){itemData&&me.itemsData.getDataSet().update(itemData)})}}},vis.Timeline.prototype.focus=function(id,options){if(this.itemsData&&null!=id){var ids=Array.isArray(id)?id:[id],itemsData=this.itemsData.getDataSet().get(ids,{type:{start:"Date",end:"Date"}}),start=null,end=null;if(itemsData.forEach(function(itemData){var s=itemData.start.valueOf(),e="end"in itemData&&itemData.end?itemData.end.valueOf():itemData.start.valueOf();(null===start||s<start)&&(start=s),(null===end||e>end)&&(end=e)}),null!==start&&null!==end){var me=this,item=this.itemSet.items[ids[0]],startPos=-1*this._getScrollTop(),initialVerticalScroll=null,setFinalVerticalPosition=function(){var finalVerticalScroll=getItemVerticalScroll(me,item);finalVerticalScroll.shouldScroll&&finalVerticalScroll.itemTop!=initialVerticalScroll.itemTop&&(me._setScrollTop(-finalVerticalScroll.scrollOffset),me._redraw())},middle=(start+end)/2,interval=Math.max(this.range.end-this.range.start,1.1*(end-start)),animation=!options||void 0===options.animation||options.animation;animation||(initialVerticalScroll={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(middle-interval/2,middle+interval/2,{animation},function(){setFinalVerticalPosition(),setTimeout(setFinalVerticalPosition,100)},function(ease,willDraw,done){var verticalScroll=getItemVerticalScroll(me,item);if(initialVerticalScroll||(initialVerticalScroll=verticalScroll),initialVerticalScroll.itemTop!=verticalScroll.itemTop||initialVerticalScroll.shouldScroll){initialVerticalScroll.itemTop!=verticalScroll.itemTop&&verticalScroll.shouldScroll&&(initialVerticalScroll=verticalScroll,startPos=-1*me._getScrollTop());var from=startPos,to=initialVerticalScroll.scrollOffset,scrollTop=done?to:from+(to-from)*ease;me._setScrollTop(-scrollTop),willDraw||me._redraw()}})}}};