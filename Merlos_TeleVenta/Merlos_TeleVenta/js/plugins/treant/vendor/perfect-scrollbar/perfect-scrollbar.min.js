!function($){var defaultSettings={wheelSpeed:10,wheelPropagation:!1};$.fn.perfectScrollbar=function(suppliedSettings,option){var settings=$.extend(!0,{},defaultSettings);if("object"==typeof suppliedSettings?$.extend(!0,settings,suppliedSettings):option=suppliedSettings,"update"===option)return $(this).data("perfect_scrollbar_update")&&$(this).data("perfect_scrollbar_update")(),$(this);if("destroy"===option)return $(this).data("perfect_scrollbar_destroy")&&$(this).data("perfect_scrollbar_destroy")(),$(this);if($(this).data("perfect_scrollbar"))return $(this).data("perfect_scrollbar");var container_width,container_height,content_width,content_height,scrollbar_x_width,scrollbar_x_left,scrollbar_y_height,scrollbar_y_top,applyTouchMove,start_coords,start_time,speed,breaking_process,$this=$(this).addClass("ps-container"),$content=$(this).children(),$scrollbar_x=$("<div class='ps-scrollbar-x'></div>").appendTo($this),$scrollbar_y=$("<div class='ps-scrollbar-y'></div>").appendTo($this),scrollbar_x_bottom=parseInt($scrollbar_x.css("bottom"),10),scrollbar_y_right=parseInt($scrollbar_y.css("right"),10),updateBarSizeAndPosition=function(){container_width=$this.width(),container_height=$this.height(),content_width=$content.outerWidth(!1),content_height=$content.outerHeight(!1),container_width<content_width?(scrollbar_x_width=parseInt(container_width*container_width/content_width,10),scrollbar_x_left=parseInt($this.scrollLeft()*container_width/content_width,10)):(scrollbar_x_width=0,scrollbar_x_left=0,$this.scrollLeft(0)),container_height<content_height?(scrollbar_y_height=parseInt(container_height*container_height/content_height,10),scrollbar_y_top=parseInt($this.scrollTop()*container_height/content_height,10)):(scrollbar_y_height=0,scrollbar_y_left=0,$this.scrollTop(0)),$scrollbar_x.css({left:scrollbar_x_left+$this.scrollLeft(),bottom:scrollbar_x_bottom-$this.scrollTop(),width:scrollbar_x_width}),$scrollbar_y.css({top:scrollbar_y_top+$this.scrollTop(),right:scrollbar_y_right-$this.scrollLeft(),height:scrollbar_y_height})},bindMouseScrollXHandler=function(){var current_left,current_page_x;$scrollbar_x.bind("mousedown.perfect-scroll",function(e){current_page_x=e.pageX,current_left=$scrollbar_x.position().left,$scrollbar_x.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),$(document).bind("mousemove.perfect-scroll",function(e){var scroll_left;$scrollbar_x.hasClass("in-scrolling")&&(!function(current_left,delta_x){var new_left=current_left+delta_x,max_left=container_width-scrollbar_x_width;scrollbar_x_left=new_left<0?0:new_left>max_left?max_left:new_left,$scrollbar_x.css({left:scrollbar_x_left+$this.scrollLeft()})}(current_left,e.pageX-current_page_x),scroll_left=parseInt(scrollbar_x_left*content_width/container_width,10),$this.scrollLeft(scroll_left),$scrollbar_y.css({right:scrollbar_y_right-scroll_left}),e.stopPropagation(),e.preventDefault())}),$(document).bind("mouseup.perfect-scroll",function(e){$scrollbar_x.hasClass("in-scrolling")&&$scrollbar_x.removeClass("in-scrolling")})},bindMouseScrollYHandler=function(){var current_top,current_page_y;$scrollbar_y.bind("mousedown.perfect-scroll",function(e){current_page_y=e.pageY,current_top=$scrollbar_y.position().top,$scrollbar_y.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),$(document).bind("mousemove.perfect-scroll",function(e){var scroll_top;$scrollbar_y.hasClass("in-scrolling")&&(!function(current_top,delta_y){var new_top=current_top+delta_y,max_top=container_height-scrollbar_y_height;scrollbar_y_top=new_top<0?0:new_top>max_top?max_top:new_top,$scrollbar_y.css({top:scrollbar_y_top+$this.scrollTop()})}(current_top,e.pageY-current_page_y),scroll_top=parseInt(scrollbar_y_top*content_height/container_height,10),$this.scrollTop(scroll_top),$scrollbar_x.css({bottom:scrollbar_x_bottom-scroll_top}),e.stopPropagation(),e.preventDefault())}),$(document).bind("mouseup.perfect-scroll",function(e){$scrollbar_y.hasClass("in-scrolling")&&$scrollbar_y.removeClass("in-scrolling")})},bindMouseWheelHandler=function(){$this.mousewheel(function(e,delta,deltaX,deltaY){$this.scrollTop($this.scrollTop()-deltaY*settings.wheelSpeed),$this.scrollLeft($this.scrollLeft()+deltaX*settings.wheelSpeed),updateBarSizeAndPosition(),function(deltaX,deltaY){var scrollTop=$this.scrollTop();if(0===scrollTop&&deltaY>0&&0===deltaX)return!settings.wheelPropagation;if(scrollTop>=content_height-container_height&&deltaY<0&&0===deltaX)return!settings.wheelPropagation;var scrollLeft=$this.scrollLeft();return 0===scrollLeft&&deltaX<0&&0===deltaY?!settings.wheelPropagation:!(scrollLeft>=content_width-container_width&&deltaX>0&&0===deltaY&&settings.wheelPropagation)}(deltaX,deltaY)&&e.preventDefault()})},destroy=function(){$scrollbar_x.remove(),$scrollbar_y.remove(),$this.unbind("mousewheel"),$this.unbind("touchstart.perfect-scroll"),$this.unbind("touchmove.perfect-scroll"),$this.unbind("touchend.perfect-scroll"),$(window).unbind("mousemove.perfect-scroll"),$(window).unbind("mouseup.perfect-scroll"),$this.data("perfect_scrollbar",null),$this.data("perfect_scrollbar_update",null),$this.data("perfect_scrollbar_destroy",null)},isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);return updateBarSizeAndPosition(),bindMouseScrollXHandler(),bindMouseScrollYHandler(),isMobile&&(applyTouchMove=function(difference_x,difference_y){$this.scrollTop($this.scrollTop()-difference_y),$this.scrollLeft($this.scrollLeft()-difference_x),updateBarSizeAndPosition()},start_coords={},start_time=0,speed={},breaking_process=null,$this.bind("touchstart.perfect-scroll",function(e){var touch=e.originalEvent.targetTouches[0];start_coords.pageX=touch.pageX,start_coords.pageY=touch.pageY,start_time=(new Date).getTime(),null!==breaking_process&&clearInterval(breaking_process)}),$this.bind("touchmove.perfect-scroll",function(e){var touch=e.originalEvent.targetTouches[0],current_coords={};current_coords.pageX=touch.pageX,current_coords.pageY=touch.pageY;var difference_x=current_coords.pageX-start_coords.pageX,difference_y=current_coords.pageY-start_coords.pageY;applyTouchMove(difference_x,difference_y),start_coords=current_coords;var current_time=(new Date).getTime();speed.x=difference_x/(current_time-start_time),speed.y=difference_y/(current_time-start_time),start_time=current_time,e.preventDefault()}),$this.bind("touchend.perfect-scroll",function(e){breaking_process=setInterval(function(){Math.abs(speed.x)<.01&&Math.abs(speed.y)<.01?clearInterval(breaking_process):(applyTouchMove(30*speed.x,30*speed.y),speed.x*=.8,speed.y*=.8)},10)})),$this.mousewheel&&bindMouseWheelHandler(),$this.data("perfect_scrollbar",$this),$this.data("perfect_scrollbar_update",updateBarSizeAndPosition),$this.data("perfect_scrollbar_destroy",destroy),$this}}(jQuery);