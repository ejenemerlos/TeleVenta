!function($){"use strict";function isInEffect(effect){return/In/.test(effect)||$.inArray(effect,$.fn.textillate.defaults.inEffects)>=0}function isOutEffect(effect){return/Out/.test(effect)||$.inArray(effect,$.fn.textillate.defaults.outEffects)>=0}function stringToBoolean(str){return"true"!==str&&"false"!==str?str:"true"===str}function getData(node){var attrs=node.attributes||[],data={};return attrs.length?($.each(attrs,function(i,attr){var nodeName=attr.nodeName.replace(/delayscale/,"delayScale");/^data-in-*/.test(nodeName)?(data.in=data.in||{},data.in[nodeName.replace(/data-in-/,"")]=stringToBoolean(attr.nodeValue)):/^data-out-*/.test(nodeName)?(data.out=data.out||{},data.out[nodeName.replace(/data-out-/,"")]=stringToBoolean(attr.nodeValue)):/^data-*/.test(nodeName)&&(data[nodeName.replace(/data-/,"")]=stringToBoolean(attr.nodeValue))}),data):data}function animateTokens($tokens,options,cb){var count=$tokens.length;count?(options.shuffle&&($tokens=function(o){for(var j,x,i=o.length;i;j=parseInt(Math.random()*i),x=o[--i],o[i]=o[j],o[j]=x);return o}($tokens)),options.reverse&&($tokens=$tokens.toArray().reverse()),$.each($tokens,function(i,t){var $token=$(t);function complete(){isInEffect(options.effect)?$token.css("visibility","visible"):isOutEffect(options.effect)&&$token.css("visibility","hidden"),!(count-=1)&&cb&&cb()}var delay=options.sync?options.delay:options.delay*i*options.delayScale;$token.text()?setTimeout(function(){var $t,effect,cb;$t=$token,effect=options.effect,cb=complete,$t.addClass("animated "+effect).css("visibility","visible").show(),$t.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$t.removeClass("animated "+effect),cb&&cb()})},delay):complete()})):cb&&cb()}var Textillate=function(element,options){var base=this,$element=$(element);base.init=function(){base.$texts=$element.find(options.selector),base.$texts.length||(base.$texts=$('<ul class="texts"><li>'+$element.html()+"</li></ul>"),$element.html(base.$texts)),base.$texts.hide(),base.$current=$("<span>").html(base.$texts.find(":first-child").html()).prependTo($element),isInEffect(options.in.effect)?base.$current.css("visibility","hidden"):isOutEffect(options.out.effect)&&base.$current.css("visibility","visible"),base.setOptions(options),base.timeoutRun=null,setTimeout(function(){base.options.autoStart&&base.start()},base.options.initialDelay)},base.setOptions=function(options){base.options=options},base.triggerEvent=function(name){var e=$.Event(name+".tlt");return $element.trigger(e,base),e},base.in=function(index,cb){index=index||0;var $tokens,$elem=base.$texts.find(":nth-child("+((index||0)+1)+")"),options=$.extend(!0,{},base.options,$elem.length?getData($elem[0]):{});$elem.addClass("current"),base.triggerEvent("inAnimationBegin"),base.$current.html($elem.html()).lettering("words"),"char"==base.options.type&&base.$current.find('[class^="word"]').css({display:"inline-block","-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}).each(function(){$(this).lettering()}),$tokens=base.$current.find('[class^="'+base.options.type+'"]').css("display","inline-block"),isInEffect(options.in.effect)?$tokens.css("visibility","hidden"):isOutEffect(options.in.effect)&&$tokens.css("visibility","visible"),base.currentIndex=index,animateTokens($tokens,options.in,function(){base.triggerEvent("inAnimationEnd"),options.in.callback&&options.in.callback(),cb&&cb(base)})},base.out=function(cb){var $elem=base.$texts.find(":nth-child("+((base.currentIndex||0)+1)+")"),$tokens=base.$current.find('[class^="'+base.options.type+'"]'),options=$.extend(!0,{},base.options,$elem.length?getData($elem[0]):{});base.triggerEvent("outAnimationBegin"),animateTokens($tokens,options.out,function(){$elem.removeClass("current"),base.triggerEvent("outAnimationEnd"),options.out.callback&&options.out.callback(),cb&&cb(base)})},base.start=function(index){setTimeout(function(){base.triggerEvent("start"),function run(index){base.in(index,function(){var length=base.$texts.children().length;index+=1,!base.options.loop&&index>=length?(base.options.callback&&base.options.callback(),base.triggerEvent("end")):(index%=length,base.timeoutRun=setTimeout(function(){base.out(function(){run(index)})},base.options.minDisplayTime))})}(index||0)},base.options.initialDelay)},base.stop=function(){base.timeoutRun&&(clearInterval(base.timeoutRun),base.timeoutRun=null)},base.init()};$.fn.textillate=function(settings,args){return this.each(function(){var $this=$(this),data=$this.data("textillate"),options=$.extend(!0,{},$.fn.textillate.defaults,getData(this),"object"==typeof settings&&settings);data?"string"==typeof settings?data[settings].apply(data,[].concat(args)):data.setOptions.call(data,options):$this.data("textillate",data=new Textillate(this,options))})},$.fn.textillate.defaults={selector:".texts",loop:!1,minDisplayTime:2e3,initialDelay:0,in:{effect:"fadeInLeftBig",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},out:{effect:"hinge",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},autoStart:!0,inEffects:[],outEffects:["hinge"],callback:function(){},type:"char"}}(jQuery);